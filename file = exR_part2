a = 4
install.packages("readxl")
library(readxl)
library(readxl)
resultats_pres2022 <- read_excel("C:/R/donnees/resultats_pres2022.xlsx")
View(resultats_pres2022)
summary(resultats_pres2022$Part_Macron)
summary(resultats_pres2022$Part_abs)
moyenneMacron <- mean(resultats_pres2022$Part_Macron)
moyenneMacron # on appelle la variable créée
paste("L'abstension moyenne est de ", round(moyenneabs, digits=2), "%")
paste("L'abstension moyenne est de ", round(moyenne_abs, digits=2), "%")
paste("L'abstention moyenne est de ", round(MoyenneAbstention, digits=2), "%")
paste("L'abstention moyenne est de ", round(Moyenne_abs, digits=2), "%")
paste("La moyenne des % de vote Macron est de ", moyenneMacron)
moyenneAbstetion <- mean(resultats_pres2022$Part_abs)
paste("L'abstention moyenne est de ", round(moyenneAbstetion, digits=2), "%")
Requete1 <- resultats_pres2022 [resultats_pres2022$Part_LePen > 10 , ]
View (Requete1) # permet de visualiser la nouvelle extraction
View (Requete1)
count(Requete1)
install.packages("dplyr")
count(Requete1)
library(dplyr)
count(Requete1)
Requete2 <- resultats_pres2022 [resultats_pres2022$Part_LePen > 30 & resultats_pres2022$Part_LePen < 60 , ]
View (Requete2)
VoteJadot2040 <- resultats_pres2022 [resultats_pres2022$Part_Jadot > 20 & resultats_pres2022$Part_Jadot < 40 , ]
View (VoteJadot2040)
View(VoteJadot2040)
voteRochefort <- resultats_pres2022 [resultats_pres2022$Libelle =='Rochefort' & resultats_pres2022$Code_dep == '17' ,]
View (voteRochefort)
View(voteRochefort)
voteSaintes <- resultats_pres2022 [resultats_pres2022$Libelle =='Saintes' & resultats_pres2022$Code_dep == '17' ,]
View (voteSaintes)
write.csv(voteSaintes)
write.csv(x = voteSaintes = "votesaintes.csv")
write.csv(voteSaintes, x = C:\R\Resultats, file = "monFichier.csv")
write.csv( x = C:\R\Resultats, file = "voteSaintes.csv")
View(voteSaintes)
View(voteSaintes)
View(voteSaintes)
View(voteSaintes)
write.table(x = voteSaintes, file = "voteSaintes.csv")
file(C:\R\Resultats)
file(C:/R/Resultats)
voteCandidats1_4 <- resultats_pres2022 [ , c("Part_Macron", "Part_LePen", "Part_Melenchon", "Part_Pecresse")]
View (voteCandidats1_4)
voteSaintes_Candidats1_3 <- resultats_pres2022 [resultats_pres2022$Libelle =='Saintes' & c("Part_Macron", "Part_LePen", "Part_Melenchon,]
sd (Part_Macron")
sd ("Part_LePen")
voteSaintes_Candidats1_3 <- resultats_pres2022 [resultats_pres2022$Libelle =='Saintes' & c("Part_Macron", "Part_LePen", "Part_Melenchon,]
sd ("Part_Macron"), sd ("Part_LePen"), sd ("Part_Melenchon")
voteSaintes_Candidats1_3 <- resultats_pres2022 [resultats_pres2022$Libelle =='Saintes' & c("Part_Macron", "Part_LePen", "Part_Melenchon,]
sd(voteSaintes_Candidats1_3$Part_Macron), sd(voteSaintes_Candidats1_3$Part_LePen), sd(voteSaintes_Candidats1_3$Part_Melenchon)
sd(voteSaintes_Candidats1_3$Part_LePen)
sd(voteSaintes_Candidats1_3$Part_Melenchon)
voteSaintes_Candidats1_3
voteSaintes_Candidats1_3 <- resultats_pres2022 [resultats_pres2022$Libelle =='Saintes' & c("Part_Macron", "Part_LePen", "Part_Melenchon,)]
View(voteSaintes)
voteSaintes [ , c("Part_Macron", "Part_LePen", "Part_Melenchon", "Part_Pecresse")]
voteSaintes_Candidats1_3 = voteSaintes [ , c("Part_Macron", "Part_LePen", "Part_Melenchon", "Part_Pecresse")]
View(voteSaintes_Candidats1_3)
View(voteSaintes_Candidats1_3)
View(voteSaintes_Candidats1_3)
voteSaintes_Candidats1_3 = voteSaintes [ , c("Part_Macron", "Part_LePen", "Part_Melenchon",)]
voteSaintes_Candidats2_3 = voteSaintes [ , c("Part_Macron", "Part_LePen", "Part_Melenchon",)]
voteSaintes_Candidats2_3 = voteSaintes [ , c("Part_Macron", "Part_LePen", "Part_Melenchon")]
View(voteSaintes_Candidats1_3)
View(voteSaintes_Candidats1_3)
View(voteSaintes_Candidats2_3)
sd(voteSaintes_Candidats2_3$Part_Macron),
sd(voteSaintes_Candidats1_3$Part_Macron), sd(voteSaintes_Candidats1_3$Part_LePen), sd(voteSaintes_Candidats1_3$Part_Melenchon)
sd(voteSaintes_Candidats2_3$Part_Macron)
sd(voteSaintes_Candidats2_3$Part_LePen)
sd(voteSaintes_Candidats2_3$Part_Melenchon)
voteCandidats1_4$colonneTest <- NA
voteCandidats1_4$Part_Macron + voteCandidats1_4$Part_Pecresse
View (voteCandidats1_4)
voteCandidats1_4$colonneTest <- voteCandidats1_4$Part_Macron + voteCandidats1_4$Part_Pecresse
View (voteCandidats1_4)
voteCandidats1_4$colonneTest <- rowSums(voteCandidats1_4[,c('Part_Macron', 'Part_Pecresse')], na.rm=TRUE
>
jj
kk
voteCandidats1_4$colonneTest <- rowSums(voteCandidats1_4[,c('Part_Macron', 'Part_Pecresse')], na.rm=TRUE)
voteCandidats1_4$colonneTest <- ifelse(voteCandidats1_4$Part_Macron > 25, voteCandidats1_4$Part_Macron + voteCandidats1_4$Part_Pecresse, NA)
View(voteSaintes_Candidats1_3)
voteSaintes_Candidats2_3$MacronSup30 <- NA
voteSaintes_Candidats2_3$MacronSup30 <- ifelse(voteCandidats1_4$Part_Macron > 30,NA = macronSup30)
voteSaintes_Candidats2_3$MacronSup30<- rowSumsvoteSaintes_Candidats2_3[,c('Part_Macron)], na.rm=MacronSup30)
''
jj
kk
kk
help
>>><
shdhd
sjsjjd$
voteSaintes_Candidats2_3$MacronSup30<- rowSumsvoteSaintes_Candidats2_3[,c('Part_Macron')], na.rm=MacronSup30)
voteSaintes_Candidats2_3$MacronSup30<- rowSums(voteSaintes_Candidats2_3[,c('Part_Macron')], na.rm=MacronSup30)
voteSaintes_Candidats2_3$MacronSup30<- rowSums(voteSaintes_Candidats2_3[,c('Part_Macron')], na.rm=TRUE)
voteSaintes_Candidats2_3$MacronSup30 <- ifelse(voteSaintes_Candidats2_3$Part_Macron > 30,value = MacronSup30)
> voteSaintes_Candidats2_3$MacronSup30 <- ifelse(voteSaintes_Candidats2_3$Part_Macron > 30,NA = MacronSup30)
voteSaintes_Candidats2_3$MacronSup30 <- ifelse(voteSaintes_Candidats2_3$Part_Macron > 30,NA = MacronSup30)
voteSaintes_Candidats2_3$MacronSup30 <- ifelse(voteSaintes_Candidats2_3$Part_Macron > 30,NA)
install.packages("tidyr")
library(tidyr)
voteSaintes_Candidats2_3$MacronSup30 <- ifelse(voteSaintes_Candidats2_3$Part_Macron > 30,NA)
Transpo <- voteSaintes_Candidats2_3 %>30% pivot_longer(
cols = c(Part_Macron, values="MacronSup30", values_to="MacronSup30")
View(Transpo)
Transpo <- voteSaintes_Candidats2_3 %>30% pivot_longer( cols = c(Part_Macron, values="MacronSup30", values_to="MacronSup30")View(Transpo)
Transpo <- voteSaintes_Candidats2_3 %>30% pivot_longer(                cols = c(Part_Macron, values="MacronSup30", values_to="MacronSup30") View(Transpo)
Transpo <- voteSaintes_Candidats2_3 %>30% pivot_longer(
cols = c(Part_Macron),
values="MacronSup30", values_to="MacronSup30")
Transpo <- voteSaintes_Candidats2_3 %>% pivot_longer(
cols = c(Part_Macron),values="MacronSup30", values_to="MacronSup30")
voteSaintes_Candidats2_3$MacronSup30 <- ifelse(voteSaintes_Candidats2_3$Part_Macron > 30,NA)
voteSaintes_Candidats2_3$MacronSup30 <- ifelse(voteSaintes_Candidats2_3$Part_Macron > 30, NA = "no")
voteSaintes_Candidats2_3$MacronSup30 <- ifelse(voteSaintes_Candidats2_3$Part_Macron> 30, voteSaintes_Candidats2_3$Part_Macron ,NA)
voteSaintes_Candidats2_3$MacronSup30 <- ifelse(voteSaintes_Candidats2_3$Part_Macron> 30, voteSaintes_Candidats2_3$Part_Macron, values = "MacronSup30" ,NA)
sapply(voteCandidats1_4, mean)
tapply(resultats_pres2022$Part_abs,resultats_pres2022$Libelle_dep,mean)
View(resultats_pres2022)
View(voteSaintes_Candidats2_3)
tapply(resultats_pres2022$Part_Arthaud,resultats_pres2022$Libelle_dep = 'Vaucluse', max )
>tapply(resultats_pres2022$Part_Arthaud,resultats_pres2022$Code_dep = '84', max )
tapply(resultats_pres2022$Part_Arthaud,resultats_pres2022$Code_dep = '84', max )
save.image("C:/R/Resultats/EX_R.RData")
load("C:/R/Resultats/EX_R.RData")
load("C:/R/Resultats/EX_R.RData")
savehistory(file = "")
> tapply(resultats_pres2022$Part_Arthaud,resultats_pres2022$Libelle_dep = 'Vauclusse', max )
> savehistory(file = "")
savehistory(file = "")
install.packages("sf")
library(sf)
read_sf("C:/R/donnees/barometre_sncf_2019.xlsx")
test SIG =  read_sf("C:/R/donnees/barometre_sncf_2019.xlsx")
test SIG =  read_sf("C:/R/donnees/larochelle.shp")
test SIG =  read_sf("C/R/donnees/larochelle.shp")
testSIG =  read_sf("C:/R/donnees/larochelle.shp")
View(testSIG)
summary(larochelle$Population)
summary(testSIG$POPULATION)
superficie <- mean(testSIG$SUPERFICIE)
paste("La superficie de La Rochelle  est de ", superficie,"km2")
Part_Macron <- resultats_pres2022$Part_Macron
Part_LePen <- resultats_pres2022$Part_LePen
cor (Part_Macron, Part_LePen)
savehistory("file = exR_part2")
Part_Melenchon<- resultats_pres2022$Part_Melenchon
Part_Jadot<- resultats_pres2022$Part_Jadot
cor (Part_Melenchon, Part_Jadot)
Part_Melenchon<- resultats_pres2022$Part_Melenchon
> Part_Pecresse<- resultats_pres2022$Part_Pecresse
Part_Melenchon<- resultats_pres2022$Part_Melenchon
Part_Pecresse<- resultats_pres2022$Part_Pecresse
cor (Part_Melenchon, Part_Jadot)
Part_Melenchon<- resultats_pres2022$Part_Melenchon
Part_Pecresse<- resultats_pres2022$Part_Pecresse
cor (Part_Melenchon, Part_Pecresse)
Part_Macron<- resultats_pres2022$Part_Macron
Part_Pecresse<- resultats_pres2022$Part_Pecresse
cor (Part_Macron, Part_Pecresse)
ggplot(resultats_pres2022, aes(x=Part_Macron,y=Part_Jadot)) + geom_point(size=0.5) +
scale_x_continuous(breaks = seq(1, 50, by = 5)) +
scale_y_continuous(breaks = seq(1, 50, by = 5)) +
stat_smooth(method = "lm",col = "#C42126",se = FALSE,size = 1)
library(ggplot2)
ggplot(resultats_pres2022, aes(x=Part_Macron,y=Part_Jadot)) + geom_point(size=0.5) +
scale_x_continuous(breaks = seq(1, 50, by = 5)) +
scale_y_continuous(breaks = seq(1, 50, by = 5)) +
stat_smooth(method = "lm",col = "#C42126",se = FALSE,size = 1)
tabMultiVarie <- resultats_pres2022[, c("Code_dep", "Code_com", "Part_Macron", "Part_LePen","Part_Melenchon","Part_Pecresse", "Part_Jadot", "Part_Roussel", "Part_Zemmour", "Part_Hidalgo")]
matriceCor <- tabMultiVarie[, c("Part_Macron", "Part_LePen", "Part_Melenchon", "Part_Pecresse", "Part_Jadot", "Part_Roussel", "Part_Zemmour", "Part_Hidalgo")]
cor (matriceCor)
install.packages("FactoMineR")
library(FactoMineR)
resultat=PCA(tabMultiVarie[,3:10], graph=TRUE)
resultat
resultat$eig
resultat$var$coord
resultat$ind$coord
plot.PCA(resultat, axes=c(1, 2), choix="var")
coords_axe1 <- resultat$ind$coord[ , c("Dim.1")]
# On ajoute au tableau de données “tabMultiVarie” les résultats des
observations (= jointure)
install.packages("writexl")
library(writexl)
coords_axe1 <- resultat$ind$coord[ , c("Dim.1")]
# On ajoute au tableau de données “tabMultiVarie” les résultats des
observations
coords_axe1 <- resultat$ind$coord[ , c("Dim.1")]
# On ajoute au tableau de données “tabMultiVarie” les résultats des observations
tabMultiVarie <- cbind(tabMultiVarie, coords_axe1)
View(tabMultiVarie)
# On exporte le contenu de “matrice2” dans un nouveau fichier Excel(nécessite l’installation du package “writexl” si ce n’est pas déjà fait)
write_xlsx(tabMultiVarie, "C:/Users/[...]/export.xlsx")
library(readxl)
# On crée une variable coords qui comprend les coordonnées de chaque observation
coords_axe1 <- resultat$ind$coord[ , c("Dim.1")]
# On ajoute au tableau de données “tabMultiVarie” les résultats des observations (= jointure)
tabMultiVarie <- cbind(tabMultiVarie, coords_axe1)
View(tabMultiVarie)
# On exporte le contenu de “matrice2” dans un nouveau fichier Excel(nécessite l’installation du package “writexl” si ce n’est pas déjà                                                          write_xlsx(tabMultiVarie, "C:/Users/[...]/export.xlsx")
coords_axe1 <- resultat$ind$coord[ , c("Dim.3")]
> coords_axe1 <- resultat$ind$coord[ , c("Dim.1")]
coords_axe1 <- resultat$ind$coord[ , c("Dim.1")]
coords_axe3 <- resultat$ind$coord[ , c("Dim.3")]
tabMultiVarie <- cbind(tabMultiVarie, coords_axe1, coords_axe3)
View(tabMultiVarie)
# On exporte le contenu de “matrice2” dans un nouveau fichier Excel(nécessite l’installation du package “writexl” si ce n’est pas déjà fait)
write_xlsx(tabMultiVarie, "C:/R/Resultats")
write_xlsx(tabMultiVarie, "C:/R/Resultats/M13.xlsx")
write.csv(x = tabMultiVarie, file = "M13.csv")
load("C:/R/Resultats/EX_M10.RData")
savehistory("file = exR_part2")
